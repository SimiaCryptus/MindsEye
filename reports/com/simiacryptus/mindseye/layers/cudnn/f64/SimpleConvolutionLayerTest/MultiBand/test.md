# SimpleConvolutionLayer
## MultiBand
### Json Serialization
Code from [LayerTestBase.java:84](../../../../../../../../../../MindsEye/src/test/java/com/simiacryptus/mindseye/layers/LayerTestBase.java#L84) executed in 0.00 seconds: 
```java
    JsonObject json = layer.getJson();
    NNLayer echo = NNLayer.fromJson(json);
    assert (echo != null) : "Failed to deserialize";
    assert (layer != echo) : "Serialization did not copy";
    Assert.assertEquals("Serialization not equal", layer, echo);
    return new GsonBuilder().setPrettyPrinting().create().toJson(json);
```

Returns: 

```
    {
      "class": "com.simiacryptus.mindseye.layers.cudnn.f64.SimpleConvolutionLayer",
      "id": "e2d0bffa-47dc-4875-864f-3d3d0000143d",
      "isFrozen": false,
      "name": "SimpleConvolutionLayer/e2d0bffa-47dc-4875-864f-3d3d0000143d",
      "filter": {
        "dimensions": [
          3,
          3,
          9
        ],
        "data": [
          1.236,
          1.468,
          -1.212,
          -1.76,
          -1.904,
          0.124,
          -0.628,
          1.38,
          0.972,
          -0.692,
          1.472,
          0.164,
          0.132,
          1.072,
          -0.096,
          -1.592,
          1.828,
          -1.012,
          1.864,
          -0.176,
          0.156,
          0.892,
          -1.184,
          1.036,
          0.528,
          -0.828,
          0.128,
          -0.224,
          0.656,
          -0.872,
          -0.18,
          1.98,
          -1.304,
          -0.56,
          -1.32,
          -1.816,
          -0.504,
          -1.636,
          -1.18,
          0.284,
          0.156,
          -0.432,
          -0.592,
          -1.136,
          0.988,
          0.048,
          0.004,
          -0.592,
          -1.42,
          -1.132,
          -0.388,
          -1.56,
          0.068,
          -1.468,
          -1.18,
          -0.164,
          1.976,
          1.7,
          1.624,
          -1.276,
          0.448,
          0.548,
          -1.504,
          1.936,
          -0.228,
          -1.36,
          -1.936,
          1.864,
          -0.176,
          0.46,
          -1.572,
          -0.252,
          1.352,
          -0.636,
          1.432,
          -0.604,
          -1.348,
          0.704,
          -0.416,
          -1.544,
          0.888
        ]
      },
      "strideX": 1,
      "strideY": 1,
      "simple": false
    }
```



### Example Input/Output Pair
Code from [LayerTestBase.java:121](../../../../../../../../../../MindsEye/src/test/java/com/simiacryptus/mindseye/layers/LayerTestBase.java#L121) executed in 0.00 seconds: 
```java
    SimpleEval eval = SimpleEval.run(layer, inputPrototype);
    return String.format("--------------------\nInput: \n[%s]\n--------------------\nOutput: \n%s",
      Arrays.stream(inputPrototype).map(t->t.prettyPrint()).reduce((a,b)->a+",\n"+b).get(),
      eval.getOutput().prettyPrint());
```

Returns: 

```
    --------------------
    Input: 
    [[
    	[ [ -1.7, -2.0, 0.128 ], [ -0.552, -1.616, 0.88 ], [ -0.524, 0.244, -0.32 ] ],
    	[ [ -1.576, 0.892, 0.624 ], [ 1.784, 0.932, 0.368 ], [ -1.38, 1.052, -0.272 ] ],
    	[ [ -1.432, -0.536, 1.368 ], [ -1.884, -0.476, -0.824 ], [ 0.808, 0.104, 0.636 ] ]
    ]]
    --------------------
    Output: 
    [
    	[ [ 3.2914239999999992, -2.738464, -11.348288 ], [ -13.915088, 0.007200000000000102, 0.9018719999999993 ], [ -2.8910560000000007, 0.7955839999999998, -2.2291839999999996 ] ],
    	[ [ 7.933904000000001, -0.3569279999999998, 0.46603200000000006 ], [ 4.792928000000002, 4.257648000000002, 0.8928000000000004 ], [ 9.394624000000002, -5.229712000000002, 1.5179840000000002 ] ],
    	[ [ -4.37568, -6.373632, 0.8507519999999995 ], [ 1.1520479999999993, 0.16136000000000036, -9.480000000000002 ], [ -4.68368, 2.459135999999999, 0.42983999999999994 ] ]
    ]
```



### Reference Implementation
Code from [LayerTestBase.java:132](../../../../../../../../../../MindsEye/src/test/java/com/simiacryptus/mindseye/layers/LayerTestBase.java#L132) executed in 0.01 seconds: 
```java
    System.out.println(new GsonBuilder().setPrettyPrinting().create().toJson(referenceLayer.getJson()));
    getEquivalencyTester().test(referenceLayer, layer, inputPrototype);
```
Logging: 
```
    {
      "class": "com.simiacryptus.mindseye.layers.aparapi.ConvolutionLayer",
      "id": "e2d0bffa-47dc-4875-864f-3d3d0000143e",
      "isFrozen": false,
      "name": "ConvolutionLayer/e2d0bffa-47dc-4875-864f-3d3d0000143e",
      "filter": {
        "dimensions": [
          3,
          3,
          9
        ],
        "data": [
          1.236,
          1.468,
          -1.212,
          -1.76,
          -1.904,
          0.124,
          -0.628,
          1.38,
          0.972,
          -0.224,
          0.656,
          -0.872,
          -0.18,
          1.98,
          -1.304,
          -0.56,
          -1.32,
          -1.816,
          -1.18,
          -0.164,
          1.976,
          1.7,
          1.624,
          -1.276,
          0.448,
          0.548,
          -1.504,
          -0.692,
          1.472,
          0.164,
          0.132,
          1.072,
          -0.096,
          -1.592,
          1.828,
          -1.012,
          -0.504,
          -1.636,
          -1.18,
          0.284,
          0.156,
          -0.432,
          -0.592,
          -1.136,
          0.988,
          1.936,
          -0.228,
          -1.36,
          -1.936,
          1.864,
          -0.176,
          0.46,
          -1.572,
          -0.252,
          1.864,
          -0.176,
          0.156,
          0.892,
          -1.184,
          1.036,
          0.528,
          -0.828,
          0.128,
          0.048,
          0.004,
          -0.592,
          -1.42,
          -1.132,
          -0.388,
          -1.56,
          0.068,
          -1.468,
          1.352,
          -0.636,
          1.432,
          -0.604,
          -1.348,
          0.704,
          -0.416,
          -1.544,
          0.888
        ]
      },
      "skip": {
        "dimensions": [
          1,
          1
        ]
      },
      "simple": true
    }
    Inputs: [
    	[ [ -1.7, -2.0, 0.128 ], [ -0.552, -1.616, 0.88 ], [ -0.524, 0.244, -0.32 ] ],
    	[ [ -1.576, 0.892, 0.624 ], [ 1.784, 0.932, 0.368 ], [ -1.38, 1.052, -0.272 ] ],
    	[ [ -1.432, -0.536, 1.368 ], [ -1.884, -0.476, -0.824 ], [ 0.808, 0.104, 0.636 ] ]
    ]
    Error: [
    	[ [ 0.0, 0.0, 0.0 ], [ 0.0, 0.0, 0.0 ], [ 0.0, 0.0, 0.0 ] ],
    	[ [ 0.0, 0.0, 0.0 ], [ 0.0, 0.0, 0.0 ], [ 0.0, 0.0, 0.0 ] ],
    	[ [ 0.0, 0.0, 0.0 ], [ 0.0, 0.0, 0.0 ], [ 0.0, 0.0, 0.0 ] ]
    ]
    Accuracy:
    absoluteTol: 0.0000e+00 +- 0.0000e+00 [0.0000e+00 - 0.0000e+00] (27#)
    relativeTol: 0.0000e+00 +- 0.0000e+00 [0.0000e+00 - 0.0000e+00] (27#)
    
```

### Differential Validation
Code from [LayerTestBase.java:139](../../../../../../../../../../MindsEye/src/test/java/com/simiacryptus/mindseye/layers/LayerTestBase.java#L139) executed in 0.21 seconds: 
```java
    getDerivativeTester().test(layer, inputPrototype);
```
Logging: 
```
    Feedback for input 0
    Inputs: [
    	[ [ -1.7, -2.0, 0.128 ], [ -0.552, -1.616, 0.88 ], [ -0.524, 0.244, -0.32 ] ],
    	[ [ -1.576, 0.892, 0.624 ], [ 1.784, 0.932, 0.368 ], [ -1.38, 1.052, -0.272 ] ],
    	[ [ -1.432, -0.536, 1.368 ], [ -1.884, -0.476, -0.824 ], [ 0.808, 0.104, 0.636 ] ]
    ]
    Output: [
    	[ [ 3.2914239999999992, -2.738464, -11.348288 ], [ -13.915088, 0.007200000000000102, 0.9018719999999993 ], [ -2.8910560000000007, 0.7955839999999998, -2.2291839999999996 ] ],
    	[ [ 7.933904000000001, -0.3569279999999998, 0.46603200000000006 ], [ 4.792928000000002, 4.257648000000002, 0.8928000000000004 ], [ 9.394624000000002, -5.229712000000002, 1.5179840000000002 ] ],
    	[ [ -4.37568, -6.373632, 0.8507519999999995 ], [ 1.1520479999999993, 0.16136000000000036, -9.480000000000002 ], [ -4.68368, 2.459135999999999, 0.42983999999999994 ] ]
    ]
    Measured: [ [ -1.90400000000146, 0.12399999999246347, 0.0, 1.3799999999974943, 0.9719999999990847, 0.0, 0.0, 0.0, 0.0, 1.980000000001425 ], [ -1.7599999999973193, -1.9040000000103419, 0.12400000000134526, -0.6280000000025154, 1.3799999999974943, 0.9719999999990847, 0.0, 0.0, 0.0, -0.17999999999851468 ], [ 0.0, -1.7600000000150828, -1.9039999999925783, 0.0, -0.6280000000025154, 1.3800000000063761, 0.0, 0.0, 0.0, 0.0 ], [ 1.4680000000044657, -1.212000000005986, 0.0, -1.9039999999925783, 0.12400000000134526, 0.0, 1.3799999999974943, 0.9719999999902029, 0.0, 0.6560000000011001 ], [ 1.2360000000022353, 1.467999999995584, -1.212000000005986, -1.7599999999973193, -1.90400000000146, 0.12400000000134526, -0.6279999999980745, 1.3799999999974943, 0.9719999999990847, -0.22400000000644127 ], [ 0.0, 1.2360000000022353, 1.467999999995584, 0.0, -1.7599999999973193, -1.90400000000146, 0.0, -0.6280000000025154, 1.3799999999974943, 0.0 ], [ 0.0, 0.0, 0.0, 1.4680000000133475, -1.2119999999971043, 0.0, -1.9039999999970192, 0.12399999999246347, 0.0, 0.0 ], [ 0.0, 0.0, 0.0, 1.2360000000022353, 1.4680000000044657, -1.212000000005986, -1.7600000000017602, -1.9040000000103419, 0.12400000000134526, 0.0 ], [ 0.0, 0.0, 0.0, 
```
...[skipping 5182 bytes](etc/1.txt)...
```
    0, -0.552, 1.784, 0.0, -0.524, -1.38, 0.0 ], [ 0.0, 0.0, 0.0, -1.576, -1.432, 0.0, 1.784, -1.884, 0.0, 0.0 ], [ 0.0, 0.0, 0.0, -1.7, -1.576, -1.432, -0.552, 1.784, -1.884, 0.0 ], [ 0.0, 0.0, 0.0, 0.0, -1.7, -1.576, 0.0, -0.552, 1.784, 0.0 ], [ 0.932, -0.476, 0.0, 1.052, 0.104, 0.0, 0.0, 0.0, 0.0, 0.0 ] ]
    Error: [ [ 2.4502622153477205E-12, -7.546407942982114E-12, 0.0, 2.5055513219740533E-12, 1.0300649222472202E-12, 0.0, 0.0, 0.0, 0.0, 0.0 ], [ 6.331379864832343E-12, -6.431521981653532E-12, 1.3353762540191383E-12, 4.916067553040193E-12, 2.5055513219740533E-12, -7.851719274754032E-12, 0.0, 0.0, 0.0, 0.0 ], [ 0.0, -2.5504043321689096E-12, -6.431521981653532E-12, 0.0, 4.916067553040193E-12, -6.376232875027199E-12, 0.0, 0.0, 0.0, 0.0 ], [ 3.530953307517848E-12, -1.2101430968414206E-12, 0.0, 1.1332046412348973E-11, 1.3353762540191383E-12, 0.0, -1.935340776526573E-12, -7.851719274754032E-12, 0.0, 0.0 ], [ 2.185585046277083E-12, -1.4232615086484657E-11, 7.671641100159832E-12, -2.5504043321689096E-12, 2.4502622153477205E-12, 1.3353762540191383E-12, 4.75175454539567E-13, 2.5055513219740533E-12, 1.0300649222472202E-12, 0.0 ], [ 0.0, -6.696199150724169E-12, 3.530953307517848E-12, 0.0, -2.5504043321689096E-12, 2.4502622153477205E-12, 0.0, -1.2847500840962311E-11, 2.5055513219740533E-12, 0.0 ], [ 0.0, 0.0, 0.0, 3.530953307517848E-12, -1.2101430968414206E-12, 0.0, -1.9906298831529057E-12, -7.546407942982114E-12, 0.0, 0.0 ], [ 0.0, 0.0, 0.0, 1.1067369243278335E-11, 3.530953307517848E-12, 7.671641100159832E-12, -2.5504043321689096E-12, -6.431521981653532E-12, 1.3353762540191383E-12, 0.0 ], [ 0.0, 0.0, 0.0, 0.0, 2.185585046277083E-12, -9.099387909827783E-13, 0.0, -2.5504043321689096E-12, 2.4502622153477205E-12, 0.0 ], [ -6.50646203581573E-12, -2.5854873797470646E-12, 0.0, 1.3851142455223453E-12, -1.4502982148556498E-12, 0.0, 0.0, 0.0, 0.0, 0.0 ] ]
    Finite-Difference Derivative Accuracy:
    absoluteTol: 8.9998e-13 +- 2.1326e-12 [0.0000e+00 - 1.6423e-11] (2916#)
    relativeTol: 5.2018e-12 +- 3.3368e-11 [6.2513e-17 - 8.1829e-10] (882#)
    
```

### Performance
Code from [LayerTestBase.java:144](../../../../../../../../../../MindsEye/src/test/java/com/simiacryptus/mindseye/layers/LayerTestBase.java#L144) executed in 0.22 seconds: 
```java
    getPerformanceTester().test(layer, inputPrototype);
```
Logging: 
```
    Evaluation performance: 8.9257 +- 2.9537 [5.3832 - 17.2298]
    Learning performance: 3.8329 +- 0.4285 [3.3400 - 6.3465]
    
```

